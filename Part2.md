# Введение

*Host.CreateDefaultBuilder*
* Устанавливает корневой каталог. Корневой каталог представляет папку, где будет производиться поиск различного содержимого, например, представлений.
* Устанавливает конфигурацию хоста. Для этого загружаются переменные среды с префиксом "DOTNET_" и аргументы командной строки
* Устанавливает конфигурацию приложения. Для этого загружается содержимое из файлов appsettings.json и appsettings.{Environment}.json, а также переменные среды и аргументы командной строки. Если приложение в статусе разработки, то также используются данные Secret Manager (менеджера секретов), который позволяет сохранить конфиденциальные данные, используемые при разработке.
* Добавляет провайдеры логирования
* Если проект в статусе разработки, то также обеспечивает валидацию сервисов

*ConfigureWebHostDefaults*
* Загружает конфигурацию из переменных среды с префиксом "ASPNETCORE_"
* Запускает и настраивает веб-сервер Kestrel, в рамках которого будет разворачиваться приложение
* Добавляет компонент Host Filtering, который позволяет настраивать адреса для веб-сервера Kestrel
* Если переменная окружения ASPNETCORE_FORWARDEDHEADERS_ENABLED равна true, добавляет компонент Forwarded Headers, который позволяет считывать из запроса заголовки "X-Forwarded-"
* Если для работы приложения требуется IIS, то данный метод также обеспечивает интеграцию с IIS


*Run*
>>Не передает дальше по конвейеру, нужно ставить в самом конце

*Use*
>>Можем вызвать след мидлвар

*Map*
>>Применяется для сопоставления пути запроса с определенным делегатом, который будет обрабатывать запрос по этому пути.

**Статические файлы должны располагаться в каталоге ContentRoot(каталог текущего проекта)/WebRoot(wwwroot)**
>>UseWebRoot("static") для переопределния местонахождения статик файлов

**UseDirectoryBrowser позволяет просмотреть содердимое каталога на сайте**

*UseExceptionHandler*
>>перенаправляет на роут, чтобы обработать корректно ошибку

*UseStatusCodePages*
>>обработка ошибок HTTP

>>можно описать обработку ошибок в конфиге(web.config)

*UseHttpsRedirection*
>>Если есть ssl, то перекинет на https

*AddHsts*
не позволяет все время по http обращаться, установит заголовок


Задачи:
1 попробовать 2 run, что получилось
2 добавить сервисы через рефлексию и добавить через другие методы?
3 